<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	template="/templates/new.xhtml">
	
	<ui:define name="content" width="400"> 
	<div style="width:550px;height:80px;margin-left:0px;margin-top:110px">
	<h:form id="formeeee">
	<p:panel>
	<f:facet name="header">
	<h:panelGrid columns="2" style="margin-top:0px" cellpadding="0">
	<h:outputText value="Plane: " />  
        <p:selectOneMenu value="#{passengerMgrBean.plane}" effect="fold" editable="true" >  
            <f:selectItem itemLabel="Select One" itemValue="#{passengerMgrBean.plane}" />  
            <f:selectItems value="#{passengerMgrBean.planesMap}" /> 
            <p:ajax event="change" update=":formeeee2:tbl" listener="#{passengerMgrBean.showPassenger}"/>
        </p:selectOneMenu> 
	</h:panelGrid>
	</f:facet>
	</p:panel>
	</h:form>
	</div>
	<div style="width:600px;height:400px;margin-left:25px;margin-top:45px">
	<h:form id="formeeee2">
	<p:dataTable id="tbl" var="person" value="#{passengerMgrBean.persons}" sortMode="multiple" paginator="true" rows="7">  
	<f:facet name="header"> Status of the persons in DB </f:facet>
    <p:column sortBy="#{person.firstName}">  
        <f:facet name="header">  
            <h:outputText value="First Name" />  
        </f:facet>  
        <h:outputText value="#{person.firstName}" />  
    </p:column>  
  
    <p:column sortBy="#{person.lastName}">  
        <f:facet name="header">  
            <h:outputText value="Last Name" />  
        </f:facet>  
        <h:outputText value="#{person.lastName}"/>  
    </p:column>  
  
    <p:column sortBy="#{person.pesel}">  
        <f:facet name="header">  
            <h:outputText value="PESEL" />  
        </f:facet>  
        <h:outputText value="#{person.pesel}" />  
    </p:column>  
  
    <p:column sortBy="#{person.additionalInfo}">  
        <f:facet name="header">  
            <h:outputText value="Add. info" />  
        </f:facet>  
        <h:outputText value="#{person.additionalInfo}" />  
    </p:column>  
    
</p:dataTable>  
      
</h:form>
</div>
</ui:define>

</ui:composition>